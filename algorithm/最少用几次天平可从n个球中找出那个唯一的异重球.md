### 找出异重球所需的最少天平使用次数

从一堆外观相同的球中找出唯一一个重量不同的球，所需的最少称量次数取决于是否预先知道这个异重球是偏重还是偏轻。这两种情况的解决方法有所不同。

#### **情况一：已知异重球是偏重还是偏轻**

如果已经明确知道异重球是比标准球重还是轻，那么可以使用三分法来解决。每次称量都可以将待测球的数量减少到原来的三分之一。

**计算方法：**
所需的最少称量次数 "k" 满足不等式 **3^k ≥ n**，其中 "n" 是球的总数。因此，最少称量次数为对n取以3为底的对数，然后向上取整。

**公式：**
k = ⌈log₃(n)⌉

**示例：**
假设有27个球，其中一个已知是次品（例如偏轻）。
- **第一次称量：** 将27个球分成三组，每组9个。将其中两组放在天平两端。
    - 如果天平平衡，则异重球在未称量的那一组中。
    - 如果天平不平衡，则异重球在较轻的那一组中。
- **第二次称量：** 将锁定的9个球再分成三组，每组3个，重复上述步骤。
- **第三次称量：** 将最后锁定的3个球分成三组，每组1个，进行最后一次称量即可找出异重球。

因此，对于27个球，在已知轻重的情况下，最少需要称量3次 (log₃27 = 3)。

#### **情况二：不知异重球是偏重还是偏轻**

当不知道异重球是偏重还是偏轻时，问题会变得更加复杂。天平的每一种状态（左重、右重或平衡）都需要提供有效信息来缩小范围并最终确定异重球及其轻重。

**计算方法：**
所需的最少称量次数 "k" 与可检测的最大球数 "n" 之间的关系如下：
在 k 次称量中，最多可以从 **n = (3^k - 1) / 2** 个球中找出异重球，并确定其是偏重还是偏轻。

反过来，要从 n 个球中找出异重球并判断其轻重，需要的最少称量次数 "k" 必须满足不等式 **3^k ≥ 2n + 1**。

**公式：**
k ≥ log₃(2n + 1)

**示例：**
以经典的12个球问题为例：
- 根据公式，(3³ - 1) / 2 = 13，所以在3次称量内最多可以检测13个球。因此，12个球是可以在3次内解决的。
- **具体步骤（以12球为例）：**
    1. **第一次称量：** 将球分为三组（4, 4, 4）。将任意两组（各4个）放在天平上。
        - **如果平衡：** 说明异重球在剩下的4个球中，并且前8个球都是标准重量。接下来的称量将在这4个球中进行，并与标准球进行比较。
        - **如果不平衡：** 说明异重球就在天平上的8个球中。同时，这也提供了一个重要的信息：哪一组是“可能重”的，哪一组是“可能轻”的。
    2. **后续称量：** 通过巧妙地组合和替换已知状态的球（标准球、可能重的球、可能轻的球），可以在后续的两次称量中精确地找出那个异重球以及它的轻重情况。

**总结**

| 已知轻重 | 未知轻重 |
| :--- | :--- |
| **k = ⌈log₃(n)⌉** | **k ≥ log₃(2n + 1)** |
| 每次称量将可能性减少为原来的1/3 | 每次称量需要同时处理“哪个球”和“是轻是重”两种不确定性 |